{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.204.0"},"children":{"TimeLoggerStack":{"id":"TimeLoggerStack","path":"TimeLoggerStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.204.0"},"children":{"TimeLoggerVPC":{"id":"TimeLoggerVPC","path":"TimeLoggerStack/TimeLoggerVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.204.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"Acl":{"id":"Acl","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"TimeLoggerVPCpublicSubnet1RouteTableE8E817E4"},"subnetId":{"Ref":"TimeLoggerVPCpublicSubnet1Subnet1CFAB5BE"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"TimeLoggerVPCIGWB125F9D0"},"routeTableId":{"Ref":"TimeLoggerVPCpublicSubnet1RouteTableE8E817E4"}}}},"EIP":{"id":"EIP","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["TimeLoggerVPCpublicSubnet1EIP42232DD4","AllocationId"]},"subnetId":{"Ref":"TimeLoggerVPCpublicSubnet1Subnet1CFAB5BE"},"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/publicSubnet1"}]}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.204.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"Acl":{"id":"Acl","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"TimeLoggerVPCpublicSubnet2RouteTable03383A64"},"subnetId":{"Ref":"TimeLoggerVPCpublicSubnet2Subnet42F96A5C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TimeLoggerStack/TimeLoggerVPC/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"TimeLoggerVPCIGWB125F9D0"},"routeTableId":{"Ref":"TimeLoggerVPCpublicSubnet2RouteTable03383A64"}}}}}},"privateSubnet1":{"id":"privateSubnet1","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.204.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"Acl":{"id":"Acl","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"TimeLoggerVPCprivateSubnet1RouteTable522D1D93"},"subnetId":{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"TimeLoggerVPCpublicSubnet1NATGatewayD0CEDF05"},"routeTableId":{"Ref":"TimeLoggerVPCprivateSubnet1RouteTable522D1D93"}}}}}},"privateSubnet2":{"id":"privateSubnet2","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.204.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"Acl":{"id":"Acl","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"TimeLoggerVPCprivateSubnet2RouteTable68EF509A"},"subnetId":{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TimeLoggerStack/TimeLoggerVPC/privateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"TimeLoggerVPCpublicSubnet1NATGatewayD0CEDF05"},"routeTableId":{"Ref":"TimeLoggerVPCprivateSubnet2RouteTable68EF509A"}}}}}},"isolatedSubnet1":{"id":"isolatedSubnet1","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.204.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"Acl":{"id":"Acl","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"TimeLoggerVPCisolatedSubnet1RouteTableBCCD0725"},"subnetId":{"Ref":"TimeLoggerVPCisolatedSubnet1SubnetE76FE8BE"}}}}}},"isolatedSubnet2":{"id":"isolatedSubnet2","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.204.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet2"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"Acl":{"id":"Acl","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet2"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TimeLoggerStack/TimeLoggerVPC/isolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"TimeLoggerVPCisolatedSubnet2RouteTable130DF619"},"subnetId":{"Ref":"TimeLoggerVPCisolatedSubnet2SubnetD8215261"}}}}}},"IGW":{"id":"IGW","path":"TimeLoggerStack/TimeLoggerVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"TimeLoggerStack/TimeLoggerVPC"}]}}},"VPCGW":{"id":"VPCGW","path":"TimeLoggerStack/TimeLoggerVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"TimeLoggerVPCIGWB125F9D0"},"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"TimeLoggerStack/TimeLoggerVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.204.0","metadata":[]},"children":{"Default":{"id":"Default","path":"TimeLoggerStack/TimeLoggerVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"TimeLoggerStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.204.0"},"children":{"Staging":{"id":"Staging","path":"TimeLoggerStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"Role":{"id":"Role","path":"TimeLoggerStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}},"Handler":{"id":"Handler","path":"TimeLoggerStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"AuroraSecret":{"id":"AuroraSecret","path":"TimeLoggerStack/AuroraSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/AuroraSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Aurora PostgreSQL credentials for TimeLogger","generateSecretString":{"secretStringTemplate":"{\"username\":\"timelogger_admin\"}","generateStringKey":"password","excludeCharacters":"\"@/\\'","includeSpace":false,"passwordLength":32}}}},"Attachment":{"id":"Attachment","path":"TimeLoggerStack/AuroraSecret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/AuroraSecret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"AuroraSecret41E6E877"},"targetId":{"Ref":"AuroraCluster23D869C0"},"targetType":"AWS::RDS::DBCluster"}}}}}}},"AuroraCluster":{"id":"AuroraCluster","path":"TimeLoggerStack/AuroraCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseCluster","version":"2.204.0","metadata":[]},"children":{"Subnets":{"id":"Subnets","path":"TimeLoggerStack/AuroraCluster/Subnets","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.204.0","metadata":[]},"children":{"Default":{"id":"Default","path":"TimeLoggerStack/AuroraCluster/Subnets/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnets for AuroraCluster database","subnetIds":[{"Ref":"TimeLoggerVPCisolatedSubnet1SubnetE76FE8BE"},{"Ref":"TimeLoggerVPCisolatedSubnet2SubnetD8215261"}]}}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/AuroraCluster/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"RDS security group","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}},"from TimeLoggerStackSlackEventsFunctionSecurityGroup1C7DEC86:{IndirectPort}":{"id":"from TimeLoggerStackSlackEventsFunctionSecurityGroup1C7DEC86:{IndirectPort}","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/from TimeLoggerStackSlackEventsFunctionSecurityGroup1C7DEC86:{IndirectPort}","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from TimeLoggerStackSlackEventsFunctionSecurityGroup1C7DEC86:{IndirectPort}","fromPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]},"groupId":{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["SlackEventsFunctionSecurityGroupA9EFDD1A","GroupId"]},"toPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]}}}},"from TimeLoggerStackSlackInteractionsFunctionSecurityGroup701FC6D0:{IndirectPort}":{"id":"from TimeLoggerStackSlackInteractionsFunctionSecurityGroup701FC6D0:{IndirectPort}","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/from TimeLoggerStackSlackInteractionsFunctionSecurityGroup701FC6D0:{IndirectPort}","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from TimeLoggerStackSlackInteractionsFunctionSecurityGroup701FC6D0:{IndirectPort}","fromPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]},"groupId":{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["SlackInteractionsFunctionSecurityGroup53F6469F","GroupId"]},"toPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]}}}},"from TimeLoggerStackSlackCommandsFunctionSecurityGroup17ED4428:{IndirectPort}":{"id":"from TimeLoggerStackSlackCommandsFunctionSecurityGroup17ED4428:{IndirectPort}","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/from TimeLoggerStackSlackCommandsFunctionSecurityGroup17ED4428:{IndirectPort}","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from TimeLoggerStackSlackCommandsFunctionSecurityGroup17ED4428:{IndirectPort}","fromPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]},"groupId":{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["SlackCommandsFunctionSecurityGroupE28E7B8A","GroupId"]},"toPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]}}}},"from TimeLoggerStackHealthFunctionSecurityGroup1CEF4CFF:{IndirectPort}":{"id":"from TimeLoggerStackHealthFunctionSecurityGroup1CEF4CFF:{IndirectPort}","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/from TimeLoggerStackHealthFunctionSecurityGroup1CEF4CFF:{IndirectPort}","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from TimeLoggerStackHealthFunctionSecurityGroup1CEF4CFF:{IndirectPort}","fromPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]},"groupId":{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["HealthFunctionSecurityGroupA0404FB6","GroupId"]},"toPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]}}}},"from TimeLoggerStackMigrationFunctionSecurityGroup5EC65406:{IndirectPort}":{"id":"from TimeLoggerStackMigrationFunctionSecurityGroup5EC65406:{IndirectPort}","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/from TimeLoggerStackMigrationFunctionSecurityGroup5EC65406:{IndirectPort}","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from TimeLoggerStackMigrationFunctionSecurityGroup5EC65406:{IndirectPort}","fromPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]},"groupId":{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["MigrationFunctionSecurityGroup81A9E498","GroupId"]},"toPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]}}}},"from TimeLoggerStackFixPermissionsFunctionSecurityGroup29A0CC12:{IndirectPort}":{"id":"from TimeLoggerStackFixPermissionsFunctionSecurityGroup29A0CC12:{IndirectPort}","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/from TimeLoggerStackFixPermissionsFunctionSecurityGroup29A0CC12:{IndirectPort}","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from TimeLoggerStackFixPermissionsFunctionSecurityGroup29A0CC12:{IndirectPort}","fromPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]},"groupId":{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["FixPermissionsFunctionSecurityGroupEAEBCE60","GroupId"]},"toPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]}}}},"from TimeLoggerStackDebugVersionFunctionSecurityGroup8D628382:{IndirectPort}":{"id":"from TimeLoggerStackDebugVersionFunctionSecurityGroup8D628382:{IndirectPort}","path":"TimeLoggerStack/AuroraCluster/SecurityGroup/from TimeLoggerStackDebugVersionFunctionSecurityGroup8D628382:{IndirectPort}","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from TimeLoggerStackDebugVersionFunctionSecurityGroup8D628382:{IndirectPort}","fromPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]},"groupId":{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["DebugVersionFunctionSecurityGroup815D530A","GroupId"]},"toPort":{"Fn::GetAtt":["AuroraCluster23D869C0","Endpoint.Port"]}}}}}},"AuroraPostgreSqlDatabaseClusterEngineDefaultParameterGroup":{"id":"AuroraPostgreSqlDatabaseClusterEngineDefaultParameterGroup","path":"TimeLoggerStack/AuroraCluster/AuroraPostgreSqlDatabaseClusterEngineDefaultParameterGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/AuroraCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBCluster","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBCluster","aws:cdk:cloudformation:props":{"backupRetentionPeriod":7,"copyTagsToSnapshot":true,"databaseName":"timelogger","dbClusterParameterGroupName":"default.aurora-postgresql15","dbSubnetGroupName":{"Ref":"AuroraClusterSubnetsF3E9E6AD"},"deletionProtection":false,"engine":"aurora-postgresql","engineVersion":"15.4","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"AuroraSecret41E6E877"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"AuroraSecret41E6E877"},":SecretString:password::}}"]]},"port":5432,"serverlessV2ScalingConfiguration":{"minCapacity":0.5,"maxCapacity":2},"vpcSecurityGroupIds":[{"Fn::GetAtt":["AuroraClusterSecurityGroupD85BF9CB","GroupId"]}]}}},"writer":{"id":"writer","path":"TimeLoggerStack/AuroraCluster/writer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/AuroraCluster/writer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"dbClusterIdentifier":{"Ref":"AuroraCluster23D869C0"},"dbInstanceClass":"db.serverless","engine":"aurora-postgresql","promotionTier":0,"publiclyAccessible":false}}}}},"reader":{"id":"reader","path":"TimeLoggerStack/AuroraCluster/reader","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/AuroraCluster/reader/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"dbClusterIdentifier":{"Ref":"AuroraCluster23D869C0"},"dbInstanceClass":"db.serverless","engine":"aurora-postgresql","promotionTier":1,"publiclyAccessible":false}}}}}}},"AppSecrets":{"id":"AppSecrets","path":"TimeLoggerStack/AppSecrets","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/AppSecrets/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Application secrets for TimeLogger","secretString":"{\"SLACK_BOT_TOKEN\":\"CHANGE_ME\",\"SLACK_SIGNING_SECRET\":\"CHANGE_ME\",\"SLACK_APP_TOKEN\":\"CHANGE_ME\",\"OPENAI_API_KEY\":\"CHANGE_ME\",\"ENCRYPTION_KEY\":\"CHANGE_ME_32_CHARS_LONG_KEY_HERE\",\"TEAMS_APP_ID\":\"\",\"TEAMS_APP_PASSWORD\":\"\"}"}}}}},"SlackEventsFunction":{"id":"SlackEventsFunction","path":"TimeLoggerStack/SlackEventsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.204.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/SlackEventsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/SlackEventsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackEventsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/SlackEventsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackEventsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]}],"Version":"2012-10-17"},"policyName":"SlackEventsFunctionServiceRoleDefaultPolicy838D0D18","roles":[{"Ref":"SlackEventsFunctionServiceRole64D4E116"}]}}}}}}},"Code":{"id":"Code","path":"TimeLoggerStack/SlackEventsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/SlackEventsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/SlackEventsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/SlackEventsFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackEventsFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TimeLoggerStackSlackEventsFunctionF952717E","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackEventsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-199279692978-ap-southeast-2","s3Key":"467a161fd886c0c42e9db91006b61a475d1381a8af56c02a48c9de7cfa5230b3.zip"},"description":"Handle Slack events (messages, mentions) - Fixed v2025-07-07-NULL-CHECK","environment":{"variables":{"DB_SECRET_ARN":{"Ref":"AuroraSecret41E6E877"},"APP_SECRETS_ARN":{"Ref":"AppSecretsA1997F2A"},"NODE_ENV":"production","FORCE_REBUILD":"2025-07-09-01-15-00-FORCE-REFRESH-ALL-LAMBDAS"}},"functionName":"timelogger-slack-events","handler":"lambda/slack-events.handler","memorySize":512,"role":{"Fn::GetAtt":["SlackEventsFunctionServiceRole64D4E116","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"},{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}],"securityGroupIds":[{"Fn::GetAtt":["SlackEventsFunctionSecurityGroupA9EFDD1A","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"TimeLoggerStack/SlackEventsFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.204.0"},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackEventsFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"LogGroup":{"id":"LogGroup","path":"TimeLoggerStack/SlackEventsFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"SlackInteractionsFunction":{"id":"SlackInteractionsFunction","path":"TimeLoggerStack/SlackInteractionsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.204.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/SlackInteractionsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/SlackInteractionsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackInteractionsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/SlackInteractionsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackInteractionsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]}],"Version":"2012-10-17"},"policyName":"SlackInteractionsFunctionServiceRoleDefaultPolicy08B4306A","roles":[{"Ref":"SlackInteractionsFunctionServiceRole71501F9D"}]}}}}}}},"Code":{"id":"Code","path":"TimeLoggerStack/SlackInteractionsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/SlackInteractionsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/SlackInteractionsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/SlackInteractionsFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackInteractionsFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TimeLoggerStackSlackInteractionsFunction20ADC818","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackInteractionsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-199279692978-ap-southeast-2","s3Key":"467a161fd886c0c42e9db91006b61a475d1381a8af56c02a48c9de7cfa5230b3.zip"},"description":"Handle Slack interactions (buttons, menus) - Fixed v2025-07-07-NULL-CHECK","environment":{"variables":{"DB_SECRET_ARN":{"Ref":"AuroraSecret41E6E877"},"APP_SECRETS_ARN":{"Ref":"AppSecretsA1997F2A"},"NODE_ENV":"production","FORCE_REBUILD":"2025-07-09-01-15-00-FORCE-REFRESH-ALL-LAMBDAS"}},"functionName":"timelogger-slack-interactions","handler":"lambda/slack-interactions.handler","memorySize":512,"role":{"Fn::GetAtt":["SlackInteractionsFunctionServiceRole71501F9D","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"},{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}],"securityGroupIds":[{"Fn::GetAtt":["SlackInteractionsFunctionSecurityGroup53F6469F","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"TimeLoggerStack/SlackInteractionsFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.204.0"},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackInteractionsFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"LogGroup":{"id":"LogGroup","path":"TimeLoggerStack/SlackInteractionsFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}}}},"SlackCommandsFunction":{"id":"SlackCommandsFunction","path":"TimeLoggerStack/SlackCommandsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.204.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/SlackCommandsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/SlackCommandsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackCommandsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/SlackCommandsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackCommandsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]}],"Version":"2012-10-17"},"policyName":"SlackCommandsFunctionServiceRoleDefaultPolicy94761AA8","roles":[{"Ref":"SlackCommandsFunctionServiceRole6BE30790"}]}}}}}}},"Code":{"id":"Code","path":"TimeLoggerStack/SlackCommandsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/SlackCommandsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/SlackCommandsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/SlackCommandsFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackCommandsFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TimeLoggerStackSlackCommandsFunction06C3B240","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackCommandsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-199279692978-ap-southeast-2","s3Key":"467a161fd886c0c42e9db91006b61a475d1381a8af56c02a48c9de7cfa5230b3.zip"},"description":"Handle Slack slash commands - Fixed v2025-07-07-NULL-CHECK","environment":{"variables":{"DB_SECRET_ARN":{"Ref":"AuroraSecret41E6E877"},"APP_SECRETS_ARN":{"Ref":"AppSecretsA1997F2A"},"NODE_ENV":"production","FORCE_REBUILD":"2025-07-09-01-15-00-FORCE-REFRESH-ALL-LAMBDAS"}},"functionName":"timelogger-slack-commands","handler":"lambda/slack-commands.handler","memorySize":512,"role":{"Fn::GetAtt":["SlackCommandsFunctionServiceRole6BE30790","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"},{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}],"securityGroupIds":[{"Fn::GetAtt":["SlackCommandsFunctionSecurityGroupE28E7B8A","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"TimeLoggerStack/SlackCommandsFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.204.0"},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/SlackCommandsFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"LogGroup":{"id":"LogGroup","path":"TimeLoggerStack/SlackCommandsFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}}}},"HealthFunction":{"id":"HealthFunction","path":"TimeLoggerStack/HealthFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.204.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/HealthFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/HealthFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/HealthFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/HealthFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/HealthFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]}],"Version":"2012-10-17"},"policyName":"HealthFunctionServiceRoleDefaultPolicy57228674","roles":[{"Ref":"HealthFunctionServiceRole04552894"}]}}}}}}},"Code":{"id":"Code","path":"TimeLoggerStack/HealthFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/HealthFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/HealthFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/HealthFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/HealthFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TimeLoggerStackHealthFunction337AA772","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/HealthFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-199279692978-ap-southeast-2","s3Key":"467a161fd886c0c42e9db91006b61a475d1381a8af56c02a48c9de7cfa5230b3.zip"},"description":"Health check endpoint","environment":{"variables":{"DB_SECRET_ARN":{"Ref":"AuroraSecret41E6E877"},"APP_SECRETS_ARN":{"Ref":"AppSecretsA1997F2A"},"NODE_ENV":"production","FORCE_REBUILD":"2025-07-09-01-15-00-FORCE-REFRESH-ALL-LAMBDAS"}},"functionName":"timelogger-health","handler":"lambda/health.handler","memorySize":512,"role":{"Fn::GetAtt":["HealthFunctionServiceRole04552894","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"},{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}],"securityGroupIds":[{"Fn::GetAtt":["HealthFunctionSecurityGroupA0404FB6","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"TimeLoggerStack/HealthFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.204.0"},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/HealthFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"LogGroup":{"id":"LogGroup","path":"TimeLoggerStack/HealthFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}}}},"MigrationFunction":{"id":"MigrationFunction","path":"TimeLoggerStack/MigrationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.204.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/MigrationFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/MigrationFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/MigrationFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/MigrationFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/MigrationFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]}],"Version":"2012-10-17"},"policyName":"MigrationFunctionServiceRoleDefaultPolicy280CFF3C","roles":[{"Ref":"MigrationFunctionServiceRole14DD1B1C"}]}}}}}}},"Code":{"id":"Code","path":"TimeLoggerStack/MigrationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/MigrationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/MigrationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/MigrationFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/MigrationFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TimeLoggerStackMigrationFunction26F079CF","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/MigrationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-199279692978-ap-southeast-2","s3Key":"467a161fd886c0c42e9db91006b61a475d1381a8af56c02a48c9de7cfa5230b3.zip"},"description":"Database migration and setup","environment":{"variables":{"DB_SECRET_ARN":{"Ref":"AuroraSecret41E6E877"},"APP_SECRETS_ARN":{"Ref":"AppSecretsA1997F2A"},"NODE_ENV":"production","FORCE_REBUILD":"2025-07-09-01-15-00-FORCE-REFRESH-ALL-LAMBDAS"}},"functionName":"timelogger-migration","handler":"lambda/migration.handler","memorySize":512,"role":{"Fn::GetAtt":["MigrationFunctionServiceRole14DD1B1C","Arn"]},"runtime":"nodejs18.x","timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"},{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}],"securityGroupIds":[{"Fn::GetAtt":["MigrationFunctionSecurityGroup81A9E498","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"TimeLoggerStack/MigrationFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.204.0"},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/MigrationFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"LogGroup":{"id":"LogGroup","path":"TimeLoggerStack/MigrationFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}}}},"FixPermissionsFunction":{"id":"FixPermissionsFunction","path":"TimeLoggerStack/FixPermissionsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.204.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/FixPermissionsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/FixPermissionsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/FixPermissionsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/FixPermissionsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/FixPermissionsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]}],"Version":"2012-10-17"},"policyName":"FixPermissionsFunctionServiceRoleDefaultPolicy2DEF44EF","roles":[{"Ref":"FixPermissionsFunctionServiceRole2552DB11"}]}}}}}}},"Code":{"id":"Code","path":"TimeLoggerStack/FixPermissionsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/FixPermissionsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/FixPermissionsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/FixPermissionsFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/FixPermissionsFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TimeLoggerStackFixPermissionsFunctionF93B9DEC","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/FixPermissionsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-199279692978-ap-southeast-2","s3Key":"467a161fd886c0c42e9db91006b61a475d1381a8af56c02a48c9de7cfa5230b3.zip"},"description":"Fix Aurora database permissions for timelogger_admin user","environment":{"variables":{"DB_SECRET_ARN":{"Ref":"AuroraSecret41E6E877"},"APP_SECRETS_ARN":{"Ref":"AppSecretsA1997F2A"},"NODE_ENV":"production","FORCE_REBUILD":"2025-07-09-01-15-00-FORCE-REFRESH-ALL-LAMBDAS"}},"functionName":"timelogger-fix-permissions","handler":"lambda/fix-permissions.handler","memorySize":512,"role":{"Fn::GetAtt":["FixPermissionsFunctionServiceRole2552DB11","Arn"]},"runtime":"nodejs18.x","timeout":600,"vpcConfig":{"subnetIds":[{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"},{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}],"securityGroupIds":[{"Fn::GetAtt":["FixPermissionsFunctionSecurityGroupEAEBCE60","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"TimeLoggerStack/FixPermissionsFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.204.0"},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/FixPermissionsFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"LogGroup":{"id":"LogGroup","path":"TimeLoggerStack/FixPermissionsFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}}}},"DebugVersionFunction":{"id":"DebugVersionFunction","path":"TimeLoggerStack/DebugVersionFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.204.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeLoggerStack/DebugVersionFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeLoggerStack/DebugVersionFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/DebugVersionFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TimeLoggerStack/DebugVersionFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/DebugVersionFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"AppSecretsA1997F2A"},{"Ref":"AuroraSecret41E6E877"}]}],"Version":"2012-10-17"},"policyName":"DebugVersionFunctionServiceRoleDefaultPolicyD5B52C29","roles":[{"Ref":"DebugVersionFunctionServiceRole62435101"}]}}}}}}},"Code":{"id":"Code","path":"TimeLoggerStack/DebugVersionFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.204.0"},"children":{"Stage":{"id":"Stage","path":"TimeLoggerStack/DebugVersionFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.204.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeLoggerStack/DebugVersionFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.204.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TimeLoggerStack/DebugVersionFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/DebugVersionFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TimeLoggerStackDebugVersionFunction027CC568","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"TimeLoggerVPC55752A33"}}}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/DebugVersionFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-199279692978-ap-southeast-2","s3Key":"467a161fd886c0c42e9db91006b61a475d1381a8af56c02a48c9de7cfa5230b3.zip"},"description":"Debug endpoint to check code version","environment":{"variables":{"DB_SECRET_ARN":{"Ref":"AuroraSecret41E6E877"},"APP_SECRETS_ARN":{"Ref":"AppSecretsA1997F2A"},"NODE_ENV":"production","FORCE_REBUILD":"2025-07-09-01-15-00-FORCE-REFRESH-ALL-LAMBDAS"}},"functionName":"timelogger-debug-version","handler":"lambda/debug-version.handler","memorySize":512,"role":{"Fn::GetAtt":["DebugVersionFunctionServiceRole62435101","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"TimeLoggerVPCprivateSubnet1Subnet71D3A645"},{"Ref":"TimeLoggerVPCprivateSubnet2Subnet6EE6A5D6"}],"securityGroupIds":[{"Fn::GetAtt":["DebugVersionFunctionSecurityGroup815D530A","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"TimeLoggerStack/DebugVersionFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.204.0"},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/DebugVersionFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"LogGroup":{"id":"LogGroup","path":"TimeLoggerStack/DebugVersionFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}}}},"TimeLoggerAPI":{"id":"TimeLoggerAPI","path":"TimeLoggerStack/TimeLoggerAPI","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API Gateway for TimeLogger Slack bot webhooks","name":"TimeLogger Slack Bot API"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"TimeLoggerStack/TimeLoggerAPI/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.204.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"TimeLoggerStack/TimeLoggerAPI/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.204.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"TimeLoggerStack/TimeLoggerAPI/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["TimeLoggerAPICloudWatchRoleDCC01175","Arn"]}}}},"Deployment":{"id":"Deployment","path":"TimeLoggerStack/TimeLoggerAPI/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API Gateway for TimeLogger Slack bot webhooks","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"TimeLoggerStack/TimeLoggerAPI/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"TimeLoggerAPIDeployment7CBB09283ff5efbeeaaf366dc18ff46130f1d466"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"TimeLoggerStack/TimeLoggerAPI/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"Default":{"id":"Default","path":"TimeLoggerStack/TimeLoggerAPI/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.204.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["TimeLoggerAPIB7D1F046","RootResourceId"]},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"slack":{"id":"slack","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["TimeLoggerAPIB7D1F046","RootResourceId"]},"pathPart":"slack","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPIslack8CA74833"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"events":{"id":"events","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"TimeLoggerAPIslack8CA74833"},"pathPart":"events","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPIslackeventsE4D7D811"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"POST":{"id":"POST","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.events":{"id":"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.events","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events/POST/ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.events","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SlackEventsFunctionAC08BCF7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/",{"Ref":"TimeLoggerAPIDeploymentStageprod389B0C07"},"/POST/slack/events"]]}}}},"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.events":{"id":"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.events","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events/POST/ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.events","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SlackEventsFunctionAC08BCF7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/test-invoke-stage/POST/slack/events"]]}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/events/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SlackEventsFunctionAC08BCF7","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"TimeLoggerAPIslackeventsE4D7D811"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}}}},"interactions":{"id":"interactions","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"TimeLoggerAPIslack8CA74833"},"pathPart":"interactions","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPIslackinteractions2688B0B5"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"POST":{"id":"POST","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.interactions":{"id":"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.interactions","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions/POST/ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.interactions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SlackInteractionsFunctionE8D0C949","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/",{"Ref":"TimeLoggerAPIDeploymentStageprod389B0C07"},"/POST/slack/interactions"]]}}}},"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.interactions":{"id":"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.interactions","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions/POST/ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.interactions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SlackInteractionsFunctionE8D0C949","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/test-invoke-stage/POST/slack/interactions"]]}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/interactions/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SlackInteractionsFunctionE8D0C949","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"TimeLoggerAPIslackinteractions2688B0B5"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}}}},"commands":{"id":"commands","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"TimeLoggerAPIslack8CA74833"},"pathPart":"commands","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPIslackcommands4B53098E"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"POST":{"id":"POST","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.commands":{"id":"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.commands","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands/POST/ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.commands","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SlackCommandsFunctionE5E2271F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/",{"Ref":"TimeLoggerAPIDeploymentStageprod389B0C07"},"/POST/slack/commands"]]}}}},"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.commands":{"id":"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.commands","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands/POST/ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..slack.commands","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SlackCommandsFunctionE5E2271F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/test-invoke-stage/POST/slack/commands"]]}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/slack/commands/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SlackCommandsFunctionE5E2271F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"TimeLoggerAPIslackcommands4B53098E"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}}}}}},"health":{"id":"health","path":"TimeLoggerStack/TimeLoggerAPI/Default/health","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/health/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["TimeLoggerAPIB7D1F046","RootResourceId"]},"pathPart":"health","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/health/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/health/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPIhealth28D754A9"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"GET":{"id":"GET","path":"TimeLoggerStack/TimeLoggerAPI/Default/health/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..health":{"id":"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..health","path":"TimeLoggerStack/TimeLoggerAPI/Default/health/GET/ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthFunction19D7724A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/",{"Ref":"TimeLoggerAPIDeploymentStageprod389B0C07"},"/GET/health"]]}}}},"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..health":{"id":"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..health","path":"TimeLoggerStack/TimeLoggerAPI/Default/health/GET/ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthFunction19D7724A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/test-invoke-stage/GET/health"]]}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/health/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HealthFunction19D7724A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"TimeLoggerAPIhealth28D754A9"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}}}},"migration":{"id":"migration","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["TimeLoggerAPIB7D1F046","RootResourceId"]},"pathPart":"migration","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPImigration88894E4A"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"POST":{"id":"POST","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..migration":{"id":"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..migration","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration/POST/ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..migration","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MigrationFunction1060F2E0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/",{"Ref":"TimeLoggerAPIDeploymentStageprod389B0C07"},"/POST/migration"]]}}}},"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..migration":{"id":"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..migration","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration/POST/ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..migration","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MigrationFunction1060F2E0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/test-invoke-stage/POST/migration"]]}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/migration/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MigrationFunction1060F2E0","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"TimeLoggerAPImigration88894E4A"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}}}},"fix-permissions":{"id":"fix-permissions","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["TimeLoggerAPIB7D1F046","RootResourceId"]},"pathPart":"fix-permissions","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPIfixpermissionsEFDBF2A5"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"POST":{"id":"POST","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..fix-permissions":{"id":"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..fix-permissions","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions/POST/ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..fix-permissions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["FixPermissionsFunction42875A1B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/",{"Ref":"TimeLoggerAPIDeploymentStageprod389B0C07"},"/POST/fix-permissions"]]}}}},"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..fix-permissions":{"id":"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..fix-permissions","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions/POST/ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.POST..fix-permissions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["FixPermissionsFunction42875A1B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/test-invoke-stage/POST/fix-permissions"]]}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/fix-permissions/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["FixPermissionsFunction42875A1B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"TimeLoggerAPIfixpermissionsEFDBF2A5"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}}}},"debug-version":{"id":"debug-version","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["TimeLoggerAPIB7D1F046","RootResourceId"]},"pathPart":"debug-version","restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}},"OPTIONS":{"id":"OPTIONS","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"TimeLoggerAPIdebugversion043EE655"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}},"GET":{"id":"GET","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.204.0","metadata":[]},"children":{"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..debug-version":{"id":"ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..debug-version","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version/GET/ApiPermission.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..debug-version","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DebugVersionFunction3C760E44","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/",{"Ref":"TimeLoggerAPIDeploymentStageprod389B0C07"},"/GET/debug-version"]]}}}},"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..debug-version":{"id":"ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..debug-version","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version/GET/ApiPermission.Test.TimeLoggerStackTimeLoggerAPID4A2EA75.GET..debug-version","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DebugVersionFunction3C760E44","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:199279692978:",{"Ref":"TimeLoggerAPIB7D1F046"},"/test-invoke-stage/GET/debug-version"]]}}}},"Resource":{"id":"Resource","path":"TimeLoggerStack/TimeLoggerAPI/Default/debug-version/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.204.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["DebugVersionFunction3C760E44","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"TimeLoggerAPIdebugversion043EE655"},"restApiId":{"Ref":"TimeLoggerAPIB7D1F046"}}}}}}}}}}}},"DatabaseEndpoint":{"id":"DatabaseEndpoint","path":"TimeLoggerStack/DatabaseEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"DatabaseWriterEndpoint":{"id":"DatabaseWriterEndpoint","path":"TimeLoggerStack/DatabaseWriterEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"DatabaseSecretArn":{"id":"DatabaseSecretArn","path":"TimeLoggerStack/DatabaseSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"AppSecretsArn":{"id":"AppSecretsArn","path":"TimeLoggerStack/AppSecretsArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"TimeLoggerStack/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"SlackEventsUrl":{"id":"SlackEventsUrl","path":"TimeLoggerStack/SlackEventsUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"SlackInteractionsUrl":{"id":"SlackInteractionsUrl","path":"TimeLoggerStack/SlackInteractionsUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"SlackCommandsUrl":{"id":"SlackCommandsUrl","path":"TimeLoggerStack/SlackCommandsUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"HealthCheckUrl":{"id":"HealthCheckUrl","path":"TimeLoggerStack/HealthCheckUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"MigrationUrl":{"id":"MigrationUrl","path":"TimeLoggerStack/MigrationUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"FixPermissionsUrl":{"id":"FixPermissionsUrl","path":"TimeLoggerStack/FixPermissionsUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"DebugVersionUrl":{"id":"DebugVersionUrl","path":"TimeLoggerStack/DebugVersionUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.204.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"TimeLoggerStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"TimeLoggerStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.204.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"TimeLoggerStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.204.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"TimeLoggerStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.204.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}